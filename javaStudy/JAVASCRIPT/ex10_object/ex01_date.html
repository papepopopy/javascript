<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>날짜</title>
</head>
<body>

    <div class="div box1">
        <div id="log1"></div>
        <div id="log2"></div>
        <div id="log3"></div>
    </div>
    <div class="box1">
        <div id="log">
        </div>
        <div id="log2">
        </div>
        <div id="log3">
        </div>
    </div>
    <div class="box2">
        <div class="date_cale"></div>
    </div>
    <div class="box3">
        <div class="time"></div>
        <div class="counter"></div>
    </div>
    
    <script>
        // 카운트 다운
        const totalTime = 10000 //10초
        const oldTime2 = Date.now() // 실행 시점의 시간

        const timeId = setInterval(() => {
            const currentTime = Date.now()

            // 시간차
            const diff = currentTime - oldTime2

            // 남은 밀리초 계산
            const remainMSec = totalTime - diff
            const remainSec= Math.ceil(remainMSec/1000)

            let label = `남은 시간 ${remainSec}초`

            if(remainSec <= 0) {
                clearInterval(timeId)
                label = "종료"
            } else {

            }
            // 남은 시간 화면 표시
            document.querySelector(".counter").innerHTML = label

        }, 1000)

        // 경과 시간 확인하기
        const oldTime = Date.now()

        setInterval(() => {
            const currentTime = Date.now()

            // 경과한 밀리초
            const diff = currentTime - oldTime

            // 초로 환산
            const sec = Math.floor(diff/1000)
            document.querySelector(".time").innerHTML = `${sec}초 경과`
        }, 1000)


        const date3 = new Date()
        const local = date3.toLocaleDateString()
        const localedate = date3.toLocaleTimeString()
        const localetime = date3.toLocaleTimeString()

        console.log("local : ", local)
        console.log("localedate : ", localedate)
        console.log("localetime : ", localetime)

        // 날짜 문자열의 타임스탬프
        const num1 = Date.parse("2024/04/24")
        console.log("2024/04/24" ,num1, new Date().getTime(),Date.now())

        // 남은 날짜 계산하기
        var today = new Date()
        var nowYear = today.getFullYear()

        console.log("-------- getTime --------")
        // getTime() : 1970.01.01일 부터 경과한 시간을 밀리초로 표시
        var TheDate = new Date(nowYear, 12, 25)
        var diffdate = TheDate.getTime() - today.getTime()
        console.log("getTime():", today.getTime())
        console.log(diffdate)
        diffdate/(60+1000*60*24)
        var result = Math.ceil(diffdate/(60*1000*60*24)) // = 일

        document.querySelector(".date_cale")
        .innerHTML = `크리스마스는 ${diffdate}일 남았습니다.`

        const date = new Date()
        const year = date.getFullYear()
        const month = date.getMonth()
        const date_day = date.getDate()
        
        const hour = date.getHours()
        const minutes = date.getMinutes()
        const seconds = date.getSeconds()
        const milli = date.getMilliseconds()
        
        const day = date.getDay() // 0~6
        const dayList = ["일", "월", "화", "수", "목", "금", "토" ]

        console.log("----")
        let ampm //오전, 오후 구분
        let hour2
        if (hour < 12) {
            ampm = "오전"
            hour2 = hour
        } else {
            ampm = "오후"
            hour2 = hour -12
        }
        document.querySelector("#log")
        .innerHTML = `지금은 ${ampm} ${year}년 ${month}월 ${date_day}일 입니다.`

        document.querySelector("#log2")
        .innerHTML = `지금은 ${ampm} ${hour}시 ${minutes}분 ${seconds}:${milli}초 입니다.`

        document.querySelector("#log3")
        // .innerHTML = `오늘은 ${day}입니다.`
        .innerHTML = `오늘은 ${dayList[day]}요일입니다.`

        var DDay = new Date(2021,4,1)
        
        console.log("----")
        const year1 = DDay.getFullYear()
        const month1 = DDay.getMonth()
        const date_day1 = DDay.getDate()

        console.log(year1, month1, date_day1)
        
        DDay.setFullYear(2000)
        

        console.log(year1, month1, date_day1)
    </script>
</body>
</html>