<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>라디오버튼 객체</title>
    <style>
        #radioForm div {
            background-color: #c3f3ff;
            margin: 30px;
            padding: 20px;
        }

        .box2 {
            width: 400px;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="box2">
            <select class="form-select" id="mySel">
                <option value="apple">apple</option>
                <option value="orange" selected>orange</option>
                <option value="grape" selected>grape</option>
            </select>
            <select class="form-select mt-2" id="mySel2" size="3" multiple>
            </select>
            <div class="alert alert-warning mt-3 log">test</div>
        </div>
    </div>
    <hr>
    <form id="radioForm">
        <div class="radio_group1">
            <label>
                <input type="radio" name="fruit" value="Apple">Apple
            </label>
            <label>
                <input type="radio" name="fruit" value="Orange" checked>Orange
            </label>
            <label>
                <input type="radio" name="fruit" value="Grape" checked>Grape
            </label>
        </div>
        <div class="radio_group2">
            <label>
                <input type="radio" name="drink" value="coke" checked>coke
            </label>
            <label>
                <input type="radio" name="drink" value="wine" checked>wine
            </label>
        </div>
    </form>

    <script>

        const mySelect2 = document.querySelector("#mySel2")
        console.log(mySelect2)

        option_str = ""
        for(let i=1; i<31; i++) {
            option_str += `<option value = ${i}>${i}</option>`
            console.log(option_str)
        }
        // console.log(option_str)
        mySelect2.innerHTML = option_str

        /*
        // 단일 이벤트
        mySelect2.addEventListener("change", (e) => {
            console.log(mySelect2.value)
            let value = `선택한 값은 ${mySelect2.value}입니다.`
            log.innerHTML = value
        })
        */
        // 다중 이벤트
        mySelect2.addEventListener("change", (e) => {
            multiSelected()
        })
        function multiSelected() {
            let sel_str = ""
            for (var option of mySelect2.options) {
                if(option.selected) {
                    sel_str += option.value + ","
                }
            }
            log.innerHTML = sel_str

            var select_value = [...mySelect2.options]
            .filter(option => option.selected)
            .map(option => option.value)

            console.log(select_value)
            log.innerHTML = select_value.join(",")
        }



        const mySelect = document.querySelector("#mySel")
        const log = document.querySelector(".log")
        console.log(mySelect)

        // console.log(mySelect.value)
        var value = `선택 값  ${mySelect.value}`
        log.innerHTML = value

        // select 요소 이벤트 처리
        mySelect.addEventListener("change", (e) => {
            console.log(mySelect.value)
        })

        
        const radioGroup1 = document.querySelector("form#radioForm")

        console.log(radioGroup1.fruit.value)
        console.log(radioGroup1.drink.value)

        
        /*동일*/
        const g1 = document.getElementsByName("fruit")
        console.log(g1)

        g1.forEach((ra) => {
            console.log(ra.name, ra.value, ra.checked)
            if (ra.checked) console.log(ra.value)
        })

        // 이벤트 등록
        radioGroup1.addEventListener("change", handleChange)
        function handleChange(e) {
            console.log("event object => ", e)
            
            console.log(radioGroup1.fruit.value)
            console.log(radioGroup1.drink.value)
        }
    </script>
</body>
</html>