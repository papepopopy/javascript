<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>쿠키 복습 조지기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <!-- <h3 class="pt-5">LocalStorage</h3> -->
        <h3 class="pt-5">Cookie</h3>
        <br>
        <input type="text" class="form-control" id="data">
        <br>
        <div class="content-box">
            <button class="btn btn-success btnSave">저장하기</button>
            <button class="btn btn-success btnRead">불러오기</button>
            <!-- <button class="btn btn-success btnRemove">삭제하기</button> -->
            <!-- <button class="btn btn-success btnClear">전체 삭제하기</button> -->
        </div>
    </div>
    <div id="log"></div>

    <script>
        const data = document.querySelector("#data") // 입력창
        const btnSave = document.querySelector(".btnSave") // 저장하기
        const btnRead = document.querySelector(".btnRead") // 불러오기
        const btnRemove = document.querySelector(".btnRemove") // 삭제하기
        const btnClear = document.querySelector(".btnClear") // 전체 삭제하기

        // console.log(data, btnSave, btnRead, btnRemove, btnClear)

        // Cookie 저장소 값

        /*
        - 유효기간 설정, 미삭제시 지속 보관, 도메인 단위로 존재(http, https)
        - 브라우저가 자동으로 웹 서버에 전송
        */

        // 쿠키 값 저장, 불러오기
        btnSave.addEventListener("click",() => {
            // console.log("cookie save")

            // 쿠키 값 저장
            document.cookie = "id = 1"
            document.cookie = "age = 10"
            document.cookie = `name = ${encodeURIComponent("홍길동")}`
        })
        btnRead.addEventListener("click",() => {

            // 저장해놓은 쿠키 값을 불러오기
            console.log("cookie read")
            console.log(document.cookie)


            // 문자열로 변환
            const jsonData = convertCookieToObject(document.cookie)
            console.log("jsonData result => ", jsonData)

            console.info("jsonData result => ", jsonData)
            console.warn("jsonData result => ", jsonData)
            console.error("jsonData result => ", jsonData)

            document.querySelector("#log").innerText = JSON.stringify(jsonData, null, " ")

            // 쿠키를 객체로 변환
            function convertCookieToObject(cookies) {
                console.log("---")
                console.log("쿠키값 => ",cookies)

                const cookieItems = cookies.split(";")
                console.log(cookies)
            }
        })




        /*
        // LocalStorage 저장소 값
        
        btnSave.addEventListener("click", () => {
            console.log(data.value) // 입력 창 내용 작성 

            // input[text].value => 저장소 보내기

            // localStorage는 웹 브라우저에 데이터를 저장하게 함
            localStorage.setItem("myKey", data.value) // mykey , 상태 값
            localStorage.setItem("이름", data.value) 
        })
        btnRead.addEventListener("click",() => {
            
            // 저장소 데이터 가져오기
            const dataRead =  localStorage.getItem("myKey") // btnSave의 myKey값을 들고와서
            data.value = dataRead // dataRead의 value값으로 적용
        })
        btnRemove.addEventListener("click",() => {
            
            // 저장소 데이터 mykey 값 삭제
            localStorage.removeItem("myKey")
        })
        btnClear.addEventListener("click",() => {

            // 저장소 데이터 값을 모두 삭제
            localStorage.clear()
        })

        */



    </script>
</body>
</html>